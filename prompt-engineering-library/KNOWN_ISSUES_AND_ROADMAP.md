# 📉 Known Issues & Future Roadmap

AI Clipboard Pro の**本質的な欠落と改善点**、そして**v3.0に向けた進化の方向性**。

---

## 🎯 現状の評価

**「テキストを、今すぐ、きれいに整える」** ことに関しては、ほぼ完成。
**「文脈を理解し、時間をかけて、思考を拡張する」** ことに関しては、まだ実装されていない。

---

## 📉 現状の改善点・不足点リスト

### 1. 🧠 文脈と記憶の断絶 (The Context Gap)

今のAIは「瞬間記憶」しかない。

| 課題 | 説明 |
|------|------|
| **文脈の継続性欠如** | 「さっきの件だけど」が通じない。直近のクリップボード履歴を短期記憶として保持し、線で捉える仕組みがない |
| **背景情報の共有コスト** | ユーザーの「前提知識」や「経緯」をAIに伝えるのが一番大変。ここを自動化できていない |

### 2. ⏳ 時間と育成の断絶 (The Temporal Gap)

今のAIは「即時処理」に特化しすぎている。

| 課題 | 説明 |
|------|------|
| **インキュベーター機能の不在** | 断片的なアイデアを投げ込んでおけば、AIが勝手に関連情報を集め、時間をかけて「企画」へと熟成させる機能がない |
| **能動性の欠如** | AI側から「あの件、こうしてみては？」と提案してくるトリガーがない（常にユーザーのコピー待ち） |

### 3. 👁 感覚と洞察の断絶 (The Sensory & Insight Gap)

今のAIは「テキスト」しか見えず、「正解」を出そうとしすぎる。

| 課題 | 説明 |
|------|------|
| **視覚の欠落** | スクリーンショットや手書きメモの画像を「読む」機能がない |
| **セレンディピティの欠如** | 「整える」ことに注力しすぎて、「揺さぶる（別の視点を投げかける）」モードがない |

### 4. ⚙️ 運用と安心の断絶 (The Operational Gap)

ツールとしての使い勝手がまだ「エンジニア向け」。

| 課題 | 説明 |
|------|------|
| **コストの不可視性** | Deep Researchなど重い処理を実行する際、いくらかかるか事前に分からない |
| **モード選択の摩擦** | テキスト内容から自動で「Light/Heavy/Deep」を判断するオートモードがない |

---

## 🛡️ 辛口レビュー：致命的な「粗」とリスク

### 1. パッチワーク構成による脆さ

**脆弱性:** MacroDroid → Termux → ngrok → PC/Cloud は、依存関係の連鎖（Daisy Chain）が長すぎる。

- MacroDroidのアップデート
- Androidのバックグラウンドプロセス制限（Dozeモード）
- Termuxのファイルシステム権限変更

→ 1箇所でも仕様変更があればシステム全体が停止。

**レイテンシの揺らぎ:** Termux上のPythonサーバーはコールドスタートやスリープの影響を受けやすく、「Pre-Fetch」もTermux自体が起きるまでのラグで相殺される可能性。

### 2. Privacy Wrapの正規表現の限界

**リスク:** 正規表現は構造的なデータ（メール、電話番号）には強いが、「文脈的な機密情報」には無力。

- 例：「A社のプロジェクトBの件ですが…」→ 固有名詞（A社、B）が漏れる
- 解除キーやマッピングテーブルが同一デバイス内にある場合、セキュリティのSPOFとなる

### 3. 「空気読み」の解像度不足

**UXの粗:** アプリ名 (`com.slack`) だけで「フランク」と判断するのは危険。

- Slackでも「役員への報告」を書く場合がある
- その時にフランクな口調に変換されると、修正の手間（UX Friction）が発生
- ユーザーの信頼を損なうリスク

---

## 🚀 次なる進化：圧倒的な「伸びしろ」

### 1. ハイブリッドAIパイプライン (Edge + Cloud)

**提案:** Termux/PCへの依存を減らし、AndroidオンデバイスAI (Gemini Nano / AICore) を活用。

| 機能 | 説明 |
|------|------|
| **Privacy Wrap v2** | オンデバイスの小規模モデルで「機密情報の意味的マスキング」（正規表現より高度） |
| **Context Ballast v2** | アプリ名だけでなく、現在の画面上のテキスト（Accessibility Service経由）を軽量モデルで解析 |

**メリット:** 通信量の削減、プライバシーの強化、爆速のレスポンス。

### 2. RAG による「分身化」

**提案:** Preset Systemを進化させ、過去の送信履歴やクリップボード履歴をベクトルDB（ChromaDB等）に保存。

**効果:**

- 「メール返信して」と言うだけで、過去の自分のメールの書き癖、よく使う挨拶、署名を文脈に合わせて完全に再現
- 「いつもの感じで」が通用する本当のパーソナルアシスタント化

### 3. Invisible Interface（透明なUI）

**提案:** HTTP Shortcutsのメニュー選択すら排除。

**実装案:**

- キーボードアプリの入力フィールドを監視し、特定のトリガーワード（例: `;;fix`）を入力した瞬間に、直前の文章が修正されて置換
- Accessibility Serviceを使用
- 「コピーして、アプリを切り替えて、ボタンを押して…」という動作がなくなり、思考の速度でAIを使える

---

## 💎 v3.0に向けた優先ロードマップ

現在のv2.5は「機能的には完成しているが、構造的に脆い」状態。
v3.0では機能を増やすことよりも、**「統合」と「オンデバイス化」**に舵を切るべき。

### Phase 1: 堅牢化

Termux/PCへの依存度を下げ、主要なロジックをクラウド機能（Cloud Functions / Firebase）に移行するか、常時稼働のVPSに移動させて、Android側は純粋なクライアントにする。
→ Termuxのバッテリー消費と不安定さの解消

### Phase 2: 知能化

アプリ名依存のコンテキスト判定をやめ、クリップボードの内容自体から「トーンと目的」を推定する前処理ロジックを追加する。

### Phase 3: 身体化

HTTP Shortcutsを卒業し、Androidのアクセシビリティサービスを利用したオーバーレイUI、またはカスタムキーボードの開発へ進む。

---

## 📊 課題の優先度マトリクス

| 課題 | 重要度 | 実装難易度 | 優先度 |
|------|--------|-----------|--------|
| 文脈の継続性 | ★★★★★ | ★★★☆☆ | **最優先** |
| インキュベーター | ★★★★☆ | ★★★★☆ | 高 |
| 画像認識 | ★★★★☆ | ★★☆☆☆ | 高 |
| RAG/分身化 | ★★★★☆ | ★★★★★ | 中 |
| Invisible Interface | ★★★☆☆ | ★★★★★ | 長期 |
| オンデバイスAI | ★★★☆☆ | ★★★★★ | 長期 |
